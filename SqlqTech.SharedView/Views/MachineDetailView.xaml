<UserControl
    x:Class="SqlqTech.SharedView.Views.MachineDetailView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converter="clr-namespace:SzlqTech.Core.Converters;assembly=SzlqTech.Core"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:SqlqTech.SharedView.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
    d:DesignHeight="450"
    d:DesignWidth="800"
    Loaded="UserControl_Loaded"
    mc:Ignorable="d">
    <UserControl.Resources>
        <converter:BoolToVisibilityConverter x:Key="boolToVisibility" />
    </UserControl.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto" />
            <RowDefinition />
        </Grid.RowDefinitions>
        <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
            <Button
                Margin="10"
                Command="{Binding AddCommand}"
                Content="添加" />
            <Button
                Margin="10"
                Command="{Binding DeleteCommand}"
                Content="删除" />

            <Button
                Margin="10"
                Command="{Binding SaveCommand}"
                Content="保存" />
        </StackPanel>
        <DataGrid
            Grid.Row="1"
            Margin="10,0,10,10"
            AutoGenerateColumns="False"
            CanUserAddRows="False"
            CanUserSortColumns="False"
            IsReadOnly="False"
            ItemsSource="{Binding MachineDetailVos}"
            Style="{StaticResource MaterialDesignDataGrid}">
            <DataGrid.Columns>
                <DataGridTextColumn
                    Width="*"
                    Binding="{Binding Address}"
                    Header="变量地址" />
                <DataGridComboBoxColumn
                    x:Name="dataType"
                    Width="*"
                    Header="数据类型"
                    SelectedValueBinding="{Binding DataTypeName}" />

                <DataGridTextColumn
                    Width="*"
                    Binding="{Binding Description}"
                    Header="描述" />
                <DataGridTemplateColumn Width="0.4*" Header="是否扫描">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <CheckBox x:Name="enableScan" IsChecked="{Binding IsEnableScan}" />
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn
                    Width="*"
                    md:DataGridAssist.ColumnHeaderPadding="0"
                    Header="扫描周期(ms)">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <ComboBox SelectedIndex="{Binding ScanCycle}">
                                <ComboBoxItem>10</ComboBoxItem>
                                <ComboBoxItem>20</ComboBoxItem>
                                <ComboBoxItem>50</ComboBoxItem>
                                <ComboBoxItem>100</ComboBoxItem>
                                <ComboBoxItem>200</ComboBoxItem>
                                <ComboBoxItem>500</ComboBoxItem>
                                <ComboBoxItem>1000</ComboBoxItem>
                            </ComboBox>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>


            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</UserControl>
